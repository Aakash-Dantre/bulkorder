{"ast":null,"code":"var _jsxFileName = \"/home/aakash/mo/SSAD/assign/ass2/bulkorder/frontend/src/components/search.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport US from './sunit';\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      t: 0,\n      search: \"\"\n    };\n    this.displayRadioValue = this.displayRadioValue.bind(this);\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.ss = this.ss.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/getlist').then(response => {\n      console.log(this.state); // var fol={this.state.t,this.state.search}\n\n      var lol = response.data; // lol=lol.concat(fol)\n\n      this.setState(lol);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  displayRadioValue() {\n    var ele = document.getElementsByName('sort');\n\n    for (var i = 0; i < ele.length; i++) {\n      if (ele[i].checked) {\n        this.setState({\n          t: ele[i].value\n        });\n      }\n    }\n\n    console.log(this.state.t);\n  }\n\n  onChangeSearch(event) {\n    this.setState({\n      search: event.target.value\n    });\n  }\n\n  render() {\n    var uid = this.props.id;\n    var uname = this.props.name;\n    var lol = this.state;\n    var lis = []; // var t=this.state.sort;\n    // remove element from searhch\n\n    if (this.state.t == 0) {\n      // left\n      for (var i in lol) {\n        if (this.state.search == \"\" || this.state.search == lol[i].listname) {\n          var f = 0;\n\n          if (lol[i].amount != lol[i].buyed) {\n            if (lol[i].state == 0) {\n              for (var j in lol[i].buyers) {\n                if (lol[i].buyers[j].bid == uid) {\n                  f = 1;\n                }\n              }\n\n              if (f == 0) {\n                var s = lol[i].amount - lol[i].buyed;\n                var l = [s, lol[i]];\n                lis.push(l);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (this.state.t == 1) {\n      //price\n      for (var i in lol) {\n        if (lol[i].amount != lol[i].buyed) {\n          // console.log(lol[i])\n          var f = 0;\n\n          if (lol[i].state == 0) {\n            for (var j in lol[i].buyers) {\n              if (lol[i].buyers[j].bid == uid) {\n                f = 1;\n              }\n            }\n\n            if (f == 0) {\n              // console.log(lol[i])\n              var s = lol[i].price / lol[i].amount;\n              var l = [s, lol[i]];\n              lis.push(l);\n            }\n          }\n        }\n      }\n    }\n\n    if (this.state.t == 2) {\n      //rating\n      if (lol[i].amount != lol[i].buyed) {\n        for (var i in lol) {\n          var f = 0;\n\n          if (lol[i].state == 0) {\n            for (var j in lol[i].buyers) {\n              if (lol[i].buyers[j].bid == uid) {\n                f = 1;\n              }\n            }\n\n            if (f == 0) {\n              var l = [s, lol[i]];\n              lis.push(l);\n            }\n          }\n        }\n      }\n    }\n\n    lis = lis.sort(function (a, b) {\n      return a[0] - b[0];\n    });\n    var li = [];\n\n    for (var i = 0; i < lis.length; i++) {\n      li.push(lis[i][1]);\n    } // console.log(li)\n\n\n    const List = li.map(item => React.createElement(US, {\n      itm: item,\n      uid: uid,\n      uname: uname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"male\",\n      name: \"sort\",\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"least left\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"female\",\n      name: \"sort\",\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Least price\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"other\",\n      name: \"sort\",\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"other\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"rating\"), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.displayRadioValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Sort\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Search: \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.search,\n      onChange: this.onChangeSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), List, React.createElement(\"div\", {\n      style: {\n        height: \"400px\",\n        width: \"100%\",\n        clear: \"both\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/aakash/mo/SSAD/assign/ass2/bulkorder/frontend/src/components/search.js"],"names":["React","axios","US","Search","Component","constructor","props","state","t","search","displayRadioValue","bind","onChangeSearch","ss","componentDidMount","get","then","response","console","log","lol","data","setState","catch","error","ele","document","getElementsByName","i","length","checked","value","event","target","render","uid","id","uname","name","lis","listname","f","amount","buyed","j","buyers","bid","s","l","push","price","sort","a","b","li","List","map","item","height","width","clear"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport US from './sunit'\n\nexport default class Search extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n    this.state={\n      t:0,\n      search:\"\"\n    }\n    this.displayRadioValue=this.displayRadioValue.bind(this);\n    this.onChangeSearch=this.onChangeSearch.bind(this);\n    this.ss=this.ss.bind(this);\n\n   }\n\n  componentDidMount() {\n        axios.get('http://localhost:4000/getlist')\n             .then(response => {\n              console.log(this.state)\n                  // var fol={this.state.t,this.state.search}\n                  var lol=response.data\n                  // lol=lol.concat(fol)\n\n                 this.setState(lol);\n             })\n             .catch(function(error) {\n                 console.log(error);\n             })\n\n  }\n  displayRadioValue(){\n    var ele = document.getElementsByName('sort'); \n              \n            for(var i = 0; i < ele.length; i++) { \n                if(ele[i].checked)\n                {\n                  this.setState({t:ele[i].value})\n                } \n            }\n           console.log(this.state.t) \n  }\n  onChangeSearch(event){\n        this.setState({ search: event.target.value });\n\n  }\n\n\n\trender(){\n    var uid=this.props.id\n    var uname=this.props.name\n    var lol=this.state\n    var lis=[]\n    // var t=this.state.sort;\n    // remove element from searhch\n   \n\n    if(this.state.t==0){         // left\n      for (var i in lol){\n        if(this.state.search==\"\"||this.state.search==lol[i].listname){\n            var f=0\n            if(lol[i].amount!=lol[i].buyed){\n             \n            if(lol[i].state==0){\n              for (var j in lol[i].buyers){\n                if(lol[i].buyers[j].bid==uid){\n                  f=1\n                }\n              }\n              if(f==0){\n              var s=lol[i].amount - lol[i].buyed\n              var l=[s,lol[i]]\n              lis.push(l)\n            }\n            }\n            \n          }\n        }\n    }\n    }\n    if(this.state.t==1){  //price\n      for (var i in lol){\n        if(lol[i].amount!=lol[i].buyed)\n        {\n        // console.log(lol[i])\n        var f =0\n        if(lol[i].state==0){\n        \n          for (var j in lol[i].buyers){\n            if(lol[i].buyers[j].bid==uid){\n              f=1\n            }\n          }\n          if(f==0){\n            // console.log(lol[i])\n            var s=lol[i].price/lol[i].amount\n           var l=[s,lol[i]]\n            lis.push(l)\n          }\n\n        }\n      }\n    }\n    }\n    if(this.state.t==2){  //rating\n      if(lol[i].amount!=lol[i].buyed)\n        {\n      for (var i in lol){\n        var f=0\n        if(lol[i].state==0){\n        for (var j in lol[i].buyers){\n            if(lol[i].buyers[j].bid==uid){\n              f=1\n            }\n          }\n          if(f==0){\n          var l=[s,lol[i]]\n          lis.push(l)\n        }\n         } \n      }\n    }\n    }\n\n    lis = lis.sort(function(a,b) {\n    return a[0] - b[0];\n});\n  var li=[]\n  for (var i=0;i<lis.length;i++){\n    li.push(lis[i][1])\n  }\n    // console.log(li)\n        const List = li.map(item => <US itm={item} uid={uid} uname={uname}/>)   \n\n\t\treturn(\n\n      <div>\n    \n   <input type=\"radio\" id=\"male\" name=\"sort\" value=\"0\"/>\n  <label for=\"male\">least left</label><br/>\n  <input type=\"radio\" id=\"female\" name=\"sort\" value=\"1\"/>\n  <label for=\"female\">Least price</label><br/>\n  <input type=\"radio\" id=\"other\" name=\"sort\" value=\"1\"/>\n  <label for=\"other\">rating</label>\n      <button type=\"button\" onClick={this.displayRadioValue}> \n        Sort\n    </button> \n   <label>Search: </label>\n  <input type=\"text\" \n         value={this.state.search}\n         onChange={this.onChangeSearch}\n         /> \n           \n      {List}\n\n       <div style={{height:\"400px\", width:\"100%\", clear:\"both\"}}>\n     </div>\n      </div>\n\n\n\t\t\n\n    )\n\n\t}\n}"]},"metadata":{},"sourceType":"module"}